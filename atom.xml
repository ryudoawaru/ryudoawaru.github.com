<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[慕凡(@ryudoawaru)'s blog]]></title>
  <link href="http://ryudo.tw/atom.xml" rel="self"/>
  <link href="http://ryudo.tw/"/>
  <updated>2015-02-08T23:46:53+08:00</updated>
  <id>http://ryudo.tw/</id>
  <author>
    <name><![CDATA[Mu-Fan Teng]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[銘謝文--RubyKaigi 2014之旅以及 Rails Girls Taipei 獎助金計劃]]></title>
    <link href="http://ryudo.tw/blog/2014/09/28/shibuya-it-tour-by-igaiga555/"/>
    <updated>2014-09-28T22:00:00+08:00</updated>
    <id>http://ryudo.tw/blog/2014/09/28/shibuya-it-tour-by-igaiga555</id>
    <content type="html"><![CDATA[<h3>緣起</h3>

<p>由於有了去年第一次和高見龍等人一同參加 <a href="http://ryudo.tw/blog/2013/06/07/rubykaigi2013-lt/">RubyKaigi 2013</a> 的經驗，因此當確定今年的 RubyKaigi時程後，就非常的期待有機會能夠再次參加這場 Ruby世界最重要的研討會。</p>

<p>今年的 RubyConf.tw 2014 ，做為總召，有幸召集到了許多 Rails Girls Taipei 活動的校友們做為志工一起舉辦了這場國際研討會。</p>

<p>會中主要贊助商之一的 Heroku 的代表，也是 Ruby Committer 的相澤步先生提及，或許可以嘗試由 Heroku 公司和日本的社群朋友贊助一些台灣的 RG 校友去日本參加 Ruby Kaigi 2014，當時覺得這個點子非常棒，但又覺得有點不現實。</p>

<p>在七月籌備 RG Taipei-4 時，透過 E-Mail 向相澤先生詢問此事之後，得到了肯定的回覆，於是就著手開始<a href="http://railsgirls.tw/2014/07/28/rubykaigi-scholarship/">選拔辦法</a>。</p>

<p>在選拔過程中，也用英文向日方提交了每位報名者的近況，包含社群參與度等等的報告，最後在八月和日方一起開會共同決定了三位入選者，神奇的是過程中，本來以為只有 Heroku 公司會出錢，沒想到後來加入了 Spice Life 公司以及好幾位日本的大大，其中有幾位是甚至沒有來過台灣，單純的被 RG 的理念感召，實在是令人非常感動。</p>

<p>另一方面，在規劃這次的日本行之時，就想到是否有機會可以參觀一些日本的 IT 系企業，於是就聯絡了之前認識的日本 Ruby 圈的大大們，才有幸在日本行中參觀到包括 Line / DeNA 等等的 IT 企業們。</p>

<h3>成員</h3>

<p><img src="https://farm6.staticflickr.com/5573/15081062158_baa41b8641_b_d.jpg" alt="" />
Photo by Igarashi Kuniaki</p>

<ol>
<li>龍哥</li>
<li>大兜（講者）</li>
<li>Bruce（講者）</li>
<li>Mason</li>
<li>Annie（RG 獎助金計劃獲選者）</li>
<li>阿旺（RG 獎助金計劃獲選者）</li>
<li>Lena（RG 獎助金計劃獲選者）</li>
</ol>


<h3>參加了哪些活動</h3>

<p>可參考下列文章與分享：</p>

<ul>
<li><a href="http://blog.annideas.com/2014/09/29/a-ruby-week-in-japan-1/">A ruby week in Japan (1) by Annie </a></li>
<li><a href="https://awonwon.wordpress.com/2014/10/05/rubykaigi-%E6%9D%B1%E4%BA%AC%E4%B8%80%E9%80%B1%E9%81%8A-1/">RubyKaigi 東京一週遊 (1) by 阿旺</a></li>
<li><a href="http://railsgirls.kktix.cc/events/rubykaigi2014">特別講座：Rails Girls vs. RubyKaigi</a> 的 Slide by Annie</li>
</ul>


<center><iframe src="http://ryudo.tw//www.slideshare.net/slideshow/embed_code/43105512?startSlide=10" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="http://ryudo.tw//www.slideshare.net/AnnieChen51/rubykaigi-43105512" title="鐵道女孩向前衝-RubyKaigi心得分享" target="_blank">鐵道女孩向前衝-RubyKaigi心得分享</a> </strong> from <strong><a href="http://ryudo.tw//www.slideshare.net/AnnieChen51" target="_blank">Annie Chen</a></strong> </div></center>


<ul>
<li>同上的影片紀錄</li>
</ul>


<center><iframe width="853" height="480" src="https://www.youtube.com/embed/ggdH2VTqZ_U" frameborder="0" allowfullscreen></iframe></center>


<h3>結語</h3>

<p>一年多前參加 RubyKaigi 2013 並參觀到日本的 RG 活動時，沒想過在台灣可以辦的起來 RG ，更沒想過有機會參與到史無前例的獎助金計劃，只能說 Ruby 社群的力量真的太神奇了！</p>

<h3>特別感謝</h3>

<ul>
<li>Heroku, Inc</li>
<li>株式会社spice life</li>
<li>Heroku 的 相澤 步（Ayumu Aizawa） 先生</li>
<li>Spice Life 的 五十嵐 邦明（Kuniaki Igarashi） 先生</li>
<li>Satoshi Gunji 先生</li>
<li>Hiroshi Shibata 先生</li>
<li>松田 明 （Akira Matsuda）先生</li>
<li>Haruka Iwao 小姐</li>
<li>Chiaki Shinto 小姐</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RubyConf Taiwan 2014]]></title>
    <link href="http://ryudo.tw/blog/2014/07/04/rubyconftw2014-recap/"/>
    <updated>2014-07-04T14:39:00+08:00</updated>
    <id>http://ryudo.tw/blog/2014/07/04/rubyconftw2014-recap</id>
    <content type="html"><![CDATA[<p>按照往年的慣例，這篇也拖稿了超級久。</p>

<h3>時間和場地</h3>

<p>記得應該是 2013 的 11月左右，和 Matz 確認日期後開始找場地。</p>

<p>本來一開始是想用中研院的，不過和 2012 一樣，Matz 欽訂的日期又沒空了，正在煩惱場地時想到離（當時）工作地點很近的陽明大學，剛好社群的好朋友澤清當時也還在那邊工作，於是在想到的當天就立刻去看場地，由於和澤清所屬單位（陽明大學系合中心）合辦的話可以獲得場地租金的優惠，加上場地狀況整體不差，於是當下就拍板定案，於是和 2012 一樣，又辦在了中研院以外的地方，而且一樣在台北北區。</p>

<p>交通方面，由於是在石牌捷運站步行 10 分鐘的地點，因此沒有造成任何不便。</p>

<p>這次場地的優點：</p>

<ol>
<li>夠大</li>
<li>兩個場地後面是相通的</li>
<li>很多廳</li>
</ol>


<p>缺點：</p>

<ol>
<li>休息區的位子較少</li>
<li>大禮堂和其它廳的人數差距太大（1000 : 240）不過由於我們只有 290 左右的會眾，因此不是問題</li>
</ol>


<p><img src="https://farm8.staticflickr.com/7343/13949888418_1a56859133_b_d.jpg" alt="" />
<img src="https://farm3.staticflickr.com/2905/14156661363_fc3c682696_b_d.jpg" alt="" /></p>

<h3>Linda Liukas</h3>

<p><img src="https://farm8.staticflickr.com/7357/13955615790_e9b397b6a2_b_d.jpg" alt="" /></p>

<p>有鑑於 Rails Girls 在全球各地的蓬勃發展，就決定邀請 Linda 做為本次大會的 Keynote Speaker 之一，雖然一開始會擔心非技術議題大家是否會感興趣，不過看場下大家爭相和她合照的情形也就放心了，果然不愧是 Ruby 界的女神！</p>

<p>其實有趣的是 2014 的 RubyKaigi 也有 RG 相關的<a href="http://rubykaigi.org/2014/presentation/S-HarukaIwao">議程</a>，看來這應該是趨勢無誤。</p>

<h3>設計</h3>

<p><img src="http://rubyconf.tw/2014/img/logo800.png" alt="" />
<img src="https://farm3.staticflickr.com/2923/13949856908_bfa1778e2d_b_d.jpg" alt="" /></p>

<p>這次的官網 / APP，包括所有看得到的平面設計，都是由 RG 出身的 Grace 擔任，和以往相比多出了很多的平面設計物，由於她有許多展場設計的經驗，所以我可以放心的將細節交給她。</p>

<h3>Mobile APP</h3>

<p>在一個不是以 APP 為主題的 conf 推出了雙平台的 APP，要感謝擔任 iOS 開發的<a href="http://blog.eddie.com.tw">龍哥</a>以及幾位 <a href="https://www.alphacamp.co">Alphacamp</a> 的學員，還有擔任 Android 開發的阿旺以及協助她的佳緯。</p>

<h3>CFP &amp; 講者</h3>

<p>這次的 <a href="http://rubyconftw-agenda.kktix.cc/events/rubyconftw2014-cfp">CFP</a> 讓我最意外的是，在沒有招待食宿機票的狀況下，投稿者裡面竟然有超過一半的外國投稿，有鑑於此，後來也開放了讓這些講者的所屬單位掛上了特別的 Speaker Sponsorship 作為一種回饋。</p>

<p>講者（包括 Keynote）來自於包括台灣在內有七個不同的國家，分佈為：</p>

<ol>
<li>台灣：10</li>
<li>日本：8</li>
<li>美國：7</li>
<li>香港：1</li>
<li>中國：1</li>
<li>芬蘭：1</li>
<li>比利時：1</li>
<li>新加坡：1</li>
</ol>


<p>另一個和以往差異較大的，就是出現了高達 4 位的女性講者，如果加上了 LT 的話就有 5 位了，這也算是某種程度的突破吧。</p>

<h3>食物 &amp; 飲料</h3>

<p>抱歉第一天搞砸了，還好第二天的便當大家還算滿意。</p>

<p>飲料方面，第一次引進了飲料贊助商琅茶，這間也是由幾位前趨勢和 HTC 的工程師創業成立的，現場看起來大家很捧場，後來聽說不少外國會眾都訂了茶葉帶回去。</p>

<p><img src="https://farm8.staticflickr.com/7426/14113451476_bdd06c8c4c_b_d.jpg" alt="" /></p>

<h3>Party</h3>

<p>和 2012 選擇了相同的場地舉辦了 Party，不過這次我們可是把整間都給包下來了，又加入了台灣和日本的 Rails Girls ，整個場面好不熱鬧。</p>

<p><img src="https://farm8.staticflickr.com/7304/14138851711_80083ac273_b_d.jpg" alt="" />
<img src="https://farm8.staticflickr.com/7436/14161770203_dab23d06dd_b_d.jpg" alt="" /></p>

<h3>語言與國際化</h3>

<p><img src="https://farm3.staticflickr.com/2925/14133536472_9fe6e4dbdf_b_d.jpg" alt="" /></p>

<p>繼承本大會的傳統，這次的會眾中有將近 1/4 來自超過 10 個不同國家。</p>

<p>受到去年 RubyKaigi 2013 的啟發，為了促進國內外會眾的交流，這次特別啟用了中翻英即時口譯在所有的中文議程上，也因此把所有的中文議程都排在了第一天。</p>

<p>為了節省經費而不找口譯公司，從 ptt 口譯版上募集到了兩位超優秀的口譯 Sarah 和 Kylie，她們除了專業能力和資歷外，重要的是對整個活動的負責態度，像是在活動前一個月場勘，或是主動聯繫講者溝通演講內容等，讓我覺得能請到她們真的非常幸運。</p>

<h3>Rails Girls 特別講座</h3>

<p><img src="https://farm8.staticflickr.com/7392/13979240477_0816537871_b_d.jpg" alt="" /></p>

<p>原本在 conf 的隔日，打算按照日本的 <a href="http://rubykaigi.doorkeeper.jp/events/3509">RubyHiroba</a> 的方式，舉辦一個 <a href="http://en.wikipedia.org/wiki/Unconference">Unconference</a> 的活動並且混合 RG，不過在和出身於 RG 的 <a href="https://hazelwei.wordpress.com/about-miss-hazel/">Hazel</a> 討論後，決定趁著這次邀請到 Linda（Rails Girls Co-Founder） 的機會來舉辦一場特別的座談會活動，也因此促成了「<a href="http://www.accupass.com/go/rgtalk427">姺語言力-程式新市場，女孩新火花</a>」的舉辦。</p>

<p>一開始邀請的講者是國內的大神唐鳳和 Linda，活動進行中加入了原本在台下當聽眾的 Matz 和 @headius，讓整個座談變得更加精采。</p>

<iframe width="853" height="480" src="https://www.youtube.com/embed/videoseries?list=PLfrYA2oGCwQWldZdfKDVJUGg5KcYMdYxR" frameborder="0" allowfullscreen></iframe>


<p>在這裡必需特別推崇 Hazel，在整個講座的籌備過程中，她持續的和 Linda  以及唐鳳討論座談的細節，另外也要感謝這次的場務組長包子幫忙聯繫媒體等事宜，另外也要感謝 TEDxTaipei 贊助了活動場地，以及 Lena 贊助了活動 LOGO 的設計。</p>

<p>同時也要感謝 Inside 的編輯，也是 RG 校友的 Liz 對 Linda 進行的<a href="http://www.inside.com.tw/2014/07/30/rails-girls-founder-linda-liukas-interview">深度採訪</a>，還有贊助拍攝的 <a href="https://www.facebook.com/RETINA.STUDIO.TAIWAN">Retina Studio</a></p>

<h3>Rails Girls Staffs</h3>

<p>自從 2013 的 9 月開始舉辦第一次的 Rails Girls Taipei 之後，就認識了許多優秀的 Rails Girls 們，加上受到去年在日本看到很多 RubyKaigi 的 staff 都是女性工程師等的啟發，覺得應該可以試著在 RG 中招募 staff 看看，結果報名者超乎想像的多，最後幾乎所有的會場 staff 都是來自 RG 校友。</p>

<p><img src="https://farm8.staticflickr.com/7314/14136726064_ca92cb8b49_b_d.jpg" alt="" />
<img src="https://farm8.staticflickr.com/7453/14133537102_8f7a63291b_b_d.jpg" alt="" /></p>

<p>同時這個亮點也引起了在場許多外國朋友的注意，也進而造就了日後的 <a href="http://railsgirls.tw/2014/07/28/rubykaigi-scholarship/">RubyKaigi 獎助金計劃</a>。</p>

<p>個人以為，RG Staff 對 Ruby  社群的最大意義並不是因為她們是正妹或女生，而是讓受惠於社群學習到 Ruby 的校友們有一個產生正向循環並回饋社群的機會。</p>

<h3>總結</h3>

<p>感謝 ihower 給我擔任總召的機會，也由於有幸參加 RubyKaigi 2013 受到了許多啟發，把 RubyConf Taiwan 的特色延續下去並成功的辦出一屆國際化又有特色的程式語言研討會，謝謝大家！</p>

<h3>Next Time？</h3>

<p>預計於 2015.09，敬請期待！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[PostgreSQL Materialized View簡介]]></title>
    <link href="http://ryudo.tw/blog/2014/06/20/use-materizlied-view-in-pgsql/"/>
    <updated>2014-06-20T15:54:00+08:00</updated>
    <id>http://ryudo.tw/blog/2014/06/20/use-materizlied-view-in-pgsql</id>
    <content type="html"><![CDATA[<p>最近在開發某個主力產品時遇到了一個問題，就是當我們在後台編輯一些資料，包含新增 / 修改 / 刪除
，然後在沒有完成所有編輯前不想讓修改中的資料立刻在前台生效，正在苦思如何完成這項功能時，發現了PostgreSQL有一個超好用的功能叫「Materialized View」，於是就開始survey看看。</p>

<h2>Database View</h2>

<p>在<a href="http://en.wikipedia.org/wiki/View_%28SQL%29">Wikipedia</a>中的說明為：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>檢視表 (View) 是在關聯式資料庫中，將一組查詢指令構成的結果集，在實體資料表中的改變都可以立刻反應在檢視表中</span></code></pre></td></tr></table></div></figure>


<p>通常我們會為了特定目的，例如將某些特定條件的查詢變成一張虛擬表之類的原因，來製作一些View，例如：</p>

<p><img src="http://ryudo.tw/assets/2014/06/20/use-materizlied-view-in-pgsql/ex-order-erd.png"></p>

<p>我們會用以下的方式建立一個View：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">CREATE</span> <span class="k">VIEW</span> <span class="n">orders_products_users</span> <span class="k">AS</span>
</span><span class='line'><span class="k">SELECT</span>
</span><span class='line'><span class="n">orders</span><span class="p">.</span><span class="n">user_id</span><span class="p">,</span>
</span><span class='line'><span class="n">users</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
</span><span class='line'><span class="n">orders</span><span class="p">.</span><span class="n">product_id</span><span class="p">,</span>
</span><span class='line'><span class="n">products</span><span class="p">.</span><span class="n">name</span>
</span><span class='line'><span class="k">FROM</span>
</span><span class='line'><span class="n">orders</span> <span class="k">JOIN</span> <span class="n">users</span> <span class="k">ON</span> <span class="n">users</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">orders</span><span class="p">.</span><span class="n">user_id</span><span class="p">,</span>
</span><span class='line'><span class="k">JOIN</span> <span class="n">products</span> <span class="k">ON</span> <span class="n">products</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">orders</span><span class="p">.</span><span class="n">product_id</span>
</span></code></pre></td></tr></table></div></figure>


<p>以後我們要使用這個view時只要：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">orders_products_users</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>即可</p>

<p>但是普通的view本身並沒有真正的儲存資料，預設情況下它只是一個查詢的捷徑而已，而且也不能透過update view來更新資料，所以對於使用Rails等ORM的人來說，即使已經有一些「把view當model」的Gem（例如<a href="https://github.com/stevo/activerecord-database-views">activerecord-database-views</a>）推出，還是會覺得是一個比較雞肋的功能。</p>

<h2>Materialized View（以下簡稱M-View）</h2>

<p>今天要介紹的這個功能和普通的View的差別，就在建立出來的view是一個查詢狀態的「快照」（Snapshot），在快照建立後，只要不更新（Refresh），即使對原本的table有任何的變更，這個M-View裡的資料也不會有任何變化，因此就可以做到前面所說的，讓後台更新的資料不影響到前台的功能，接下來讓我們來看看如何使用這個功能。</p>

<h2>Postgresql的Materialized View</h2>

<p>這個功能原本是出自於Oracle，號稱「開源的Oracle」的PostgreSQL也在本文撰時最新的穩定版本9.3加入了該功能，<a href="http://www.postgresql.org/docs/9.3/static/sql-creatematerializedview.html">參考資料</a>。</p>

<h3>建立Materialized View</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">CREATE</span> <span class="n">MATERIALIZED</span> <span class="k">VIEW</span> <span class="k">table_name</span>
</span><span class='line'>    <span class="k">AS</span> <span class="n">query</span>
</span><span class='line'>    <span class="p">[</span> <span class="k">WITH</span> <span class="p">[</span> <span class="k">NO</span> <span class="p">]</span> <span class="k">DATA</span> <span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>例如：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">CREATE</span> <span class="n">MATERIALIZED</span> <span class="k">VIEW</span> <span class="n">mymatview</span> <span class="k">AS</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">mytab</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>以上指令會以「SELECT * FROM mytab」的查詢式建立一個名為「mymatview」的M-View，而且在refresh之前，mymatview的內容不會受到原本mytab更新的影響。</p>

<p>結尾的WITH DATA 和 WITH NO DATA的差別是在，會不會在建立時就把當時的資料填進去，如果WITH NO DATA的話，就必需要再使用refresh才可以把資料填進去。</p>

<h3>更新Materialized View</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="n">REFRESH</span> <span class="n">MATERIALIZED</span> <span class="k">VIEW</span>  <span class="n">M</span><span class="o">-</span><span class="k">View</span><span class="err">的名稱</span>
</span></code></pre></td></tr></table></div></figure>


<p>一旦下了這個指令後，就可以將現在的資料內容更新到指定的M-View上</p>

<h3>移除Materialized View</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">DROP</span> <span class="n">MATERIALIZED</span> <span class="k">VIEW</span>  <span class="n">M</span><span class="o">-</span><span class="k">View</span><span class="err">的名稱</span> <span class="p">[</span><span class="k">CASCADE</span> <span class="o">|</span> <span class="k">RESTRICT</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>顧名思義，即完全移除該M-View，CASCADE意即在移除此物件實「一併移除相關物件」。</p>

<h3>Materialized View的注意事項</h3>

<ol>
<li>和普通View一樣，不可以用UPDATE或INSERT等更新內容</li>
<li>如果建立了M-View後，要移除關聯的資料表時需要用CASADE方式一併移除相關M-View，否則會無法移除。</li>
<li>可以多層重疊，意即可以透過「查詢M-View建立其它M-View」</li>
</ol>


<h2>Materialized View的用途</h2>

<ol>
<li>加速部份查詢
和一般View不同，M-View佔有獨立表空間，所以查詢M-View不會影響到關聯的資料表，意即如果我們將一些複雜或費時的查詢的結果用M-View建立快照的話，可以透過查詢該M-View節省下一次查詢的時間，例如某個交易資料表如果有10年份1000萬筆的話，將某一年份的交易資料獨立查詢到一個M-View之後，要查詢該年份的交易資料只要查詢該M-View，就不需要在查詢中scan全部10年份的交易資料了。</li>
<li>實現資料版本控制
這是我原本想要使用的目的，這個功能可以玩的地方還很多，例如我們</li>
</ol>


<h2>範例</h2>

<p>今天假設有如下的表</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">spree_products</span>
</span><span class='line'><span class="p">(</span>
</span><span class='line'>  <span class="n">id</span> <span class="nb">serial</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
</span><span class='line'>  <span class="n">name</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span><span class="p">::</span><span class="nb">character</span> <span class="nb">varying</span><span class="p">,</span>
</span><span class='line'>  <span class="n">description</span> <span class="nb">text</span><span class="p">,</span>
</span><span class='line'>  <span class="n">available_on</span> <span class="k">timestamp</span> <span class="k">without</span> <span class="n">time</span> <span class="k">zone</span><span class="p">,</span>
</span><span class='line'>  <span class="n">deleted_at</span> <span class="k">timestamp</span> <span class="k">without</span> <span class="n">time</span> <span class="k">zone</span><span class="p">,</span>
</span><span class='line'>  <span class="n">slug</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
</span><span class='line'>  <span class="n">meta_description</span> <span class="nb">text</span><span class="p">,</span>
</span><span class='line'>  <span class="n">meta_keywords</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span>
</span><span class='line'>  <span class="n">tax_category_id</span> <span class="nb">integer</span><span class="p">,</span>
</span><span class='line'>  <span class="n">shipping_category_id</span> <span class="nb">integer</span><span class="p">,</span>
</span><span class='line'>  <span class="n">created_at</span> <span class="k">timestamp</span> <span class="k">without</span> <span class="n">time</span> <span class="k">zone</span><span class="p">,</span>
</span><span class='line'>  <span class="n">updated_at</span> <span class="k">timestamp</span> <span class="k">without</span> <span class="n">time</span> <span class="k">zone</span><span class="p">,</span>
</span><span class='line'>  <span class="k">CONSTRAINT</span> <span class="n">spree_products_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
</span><span class='line'><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>然後我們建立如下的M-View</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">CREATE</span> <span class="n">MATERIALIZED</span> <span class="k">VIEW</span> <span class="n">spree_products_mview</span> <span class="k">AS</span>
</span><span class='line'> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">spree_products</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>然後我們看現在的 spree_products表內容如下：
<img src="http://ryudo.tw/assets/2014/06/20/use-materizlied-view-in-pgsql/mview-original.png" alt="" />
此時table和M-View的資料應該是一致的，此時我們將資料表的一些資料刪除：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">spree_products</span> <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>此時id為16的紀錄已經被移除
<img src="http://ryudo.tw/assets/2014/06/20/use-materizlied-view-in-pgsql/after-remove.png" alt="" />
但是M-View的資料還是一樣的，如下圖
<img src="http://ryudo.tw/assets/2014/06/20/use-materizlied-view-in-pgsql/mview-after-remove.png" alt="" />
這時如果我們下了REFRESH的話：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="n">REFRESH</span> <span class="n">MATERIALIZED</span> <span class="k">VIEW</span> <span class="n">spree_products_mview</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>M-View的資料就會和資料表上一樣了</p>

<p>以上是簡介Materizlied View在PostgreSQL的作用，接下來我們還會針對如何用Rails / ActiveRecord操作這個功能作出說明。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[2013回顧[CH]]]></title>
    <link href="http://ryudo.tw/blog/2014/01/01/my2013/"/>
    <updated>2014-01-01T00:18:00+08:00</updated>
    <id>http://ryudo.tw/blog/2014/01/01/my2013</id>
    <content type="html"><![CDATA[<h2>2013大事紀</h2>

<ul>
<li> 一月, 在WebConf Taiwan 2013 發表「<a href="http://www.youtube.com/watch?v=WEgoBZkS9Uw">非典型貧窮網站維運經驗分享</a>」</li>
<li>二月, 舉辦[Ruby 20週年慶祝趴] (https://kktix.com/events/ruby20)</li>
<li>四月, 接棒ihower主辦Ruby Tuesday以及<a href="http://ruby.tw">Ruby Taiwan社群</a>, 開始<a href="https://kktix.com/events/ruby-tuesday-22/">Ruby Tuesday 22</a></li>
<li>五月底, 和社群朋友一同參加<a href="http://rubykaigi.org/2013/">Ruby Kaigi 2013</a>, 並發表<a href="http://ryudo.tw/blog/2013/06/07/rubykaigi2013-lt/">Lightning Talk</a>向世界的Rubyist們介紹了Ruby Taiwan社群</li>
<li>七月, 在<a href="https://kktix.com/events/ruby-tuesday-24">Ruby Tuesday 24</a>發表<a href="http://rubytaiwan.tumblr.com/post/55311043584/ruby-tuesday-24">日本行心得</a>, 該場Ruby Tuesday也創下了史上最多與會者的紀錄(報名115, 實到100)</li>
<li>九月, 和<a href="http://blog.eddie.com.tw/">龍哥</a>與<a href="http://blog.taian.su/">泰安</a>共同<a href="http://ryudo.tw/blog/2013/09/14/railsgirls-taipei-01/">舉辦</a>了<a href="http://railsgirls.tw/2013/10/08/rg-taipei1st-record/">第一屆Rails Girls Taipei</a>;  九月底離開Resume Companion</li>
<li>十一月, 舉辦<a href="http://railsgirls.tw/2013/11/29/rg-taipei2nd-record/">第二屆Rails Girls Taipei</a>, 接任<a href="http://rubyconf.tw/">RubyConf Taiwan</a>總召</li>
</ul>


<p>回顧2013, 最多事件發生在經營Ruby社群方面, 雖然從小以來對辦活動或是搞社團都不太熱衷, 參與社群最初的目的也只是想要精進自己的技術和交朋友, 不知不覺Ruby社群就變成生活重心之一了, 參加RubyKaigi 2013期間的所見所聞也對我產生了很大的衝擊, 明年的目標有：</p>

<ul>
<li>成功舉辦RubyConf Taiwan 2014</li>
<li>讓某個該上線的網站上線(秘)</li>
<li>讓上述的網站正常營運</li>
<li>持續經營Rails Girls 社群</li>
<li>在國外的conf發表talk或session</li>
<li>學好日文</li>
<li>學好英文</li>
</ul>


<h1>加油！</h1>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rails Girls Taipei-01 活動主辦心得]]></title>
    <link href="http://ryudo.tw/blog/2013/09/14/railsgirls-taipei-01/"/>
    <updated>2013-09-14T14:39:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/09/14/railsgirls-taipei-01</id>
    <content type="html"><![CDATA[<p><img src="http://farm6.staticflickr.com/5471/9698784100_dfb2afc625_b.jpg" alt="Group photo of Rails Girls Taipei-01" /></p>

<p>以下是我和<a href="http://blog.eddie.com.tw/">高見龍</a> 以及<a href="http://blog.taian.su/">泰安</a> 共同主辦第一屆<a href="http://railsgirls.tw/">Rails Girls Taipei</a>活動的心得</p>

<h3>Rails Girls社群</h3>

<p>有關於Rails Girls社群的介紹可以參考<a href="http://www.openfoundry.org/index.php?option=com_content&amp;task=view&amp;id=9044&amp;Itemid=4">Open Foundry</a>或 <a href="http://www.inside.com.tw/2013/08/12/rails-girls-taipei-workshop">Inside</a>的介紹, 在此就不再儹述。</p>

<h3>緣起</h3>

<p>女性, 在台灣的程式社群屬於稀有動物的範疇, 一般來說在各大程式研討會中女會眾的比例通常在百分之三或以下, 所以一開始知道有<a href="http://railsgirls.com">Rails Girls</a>這種活動(或著可以說是社群)時並不是特別感興趣; 轉捩點是四月和高見龍一起開<a href="http://blog.eddie.com.tw/2013/04/22/1st-ruby-and-rails-training-course/">有心人課程</a>時, 發現竟然有意外多的女性學員(約佔全部學員的四分之一), 讓我們重新考慮舉辦這個活動的可能性; 研究了一下之後, 發現他是可以自由申請主辦的, 因此在五月初準備Rubykaigi 2013的行程與演講時, 就試著填寫了主站上的申請表單, Rails Girls的創辦人Linda Liukas也很快的就回應我, 讓我加入了世界各地Rails Girls活動的主辦群中。</p>

<p>加入「世界各地的Rails Girls主辦群」之後, 就是可以加入Railsgilrs.com網站的Github Repository, 以及修改或新增網站的內容, 使用Repository內的資源(圖片/素材)之外 還有加入Rails Girls的maillist;  除此之外都要由當地的主辦人自行張羅。</p>

<h3>在日本的見聞</h3>

<p>我在五月底至六月初和高見龍一同前往日本參加<a href="http://ryudo.tw/blog/2013/06/07/rubykaigi2013-lt">Rubykaigi 2013</a>時, 有幸和日本Rails Girls的主辦人<a href="http://www.hsbt.org">柴田博志</a>先生討論了如何教不會程式的女生上手Rails的方式, 他講到了一個重點「藉由copy &amp; paste, 讓學員有成就感」。</p>

<p>在Rubykaigi三天的議程中, 我們觀察到女性會眾的比例是遠超過5%的, 也藉機在現場認識了許多女性會眾, 發現之中甚至有原本不具程式經驗, 卻因為參加過Rails Girls活動後主動來參加RubyKaigi的女會眾; 而在Rubykaigi後一天舉辦的<a href="http://rubyhiroba.org">Ruby Hiroba</a>的主題活動<a href="https://www.facebook.com/Rails%20GirlsMoreExtended">Rails Girls, more extended</a>中, 同行的高見龍也現場觀察了日本這邊的活動情形, 如名稱上的「more extended」所示, 這是普通Rails Girls活動的進階版, 是採取由學員選擇有興趣的主題, 例如前端或後端技術等, 和熟練這些主題的教練一對二或三的教學形式, 在現場就近直接觀查教學的情形, 對於我們日後的主辦也很有幫助; 整個3+1天的活動之中的所見所聞, 都增加了我們的信心和決心。</p>

<p><img src="http://farm8.staticflickr.com/7424/8901595193_1939a4de96_b_d.jpg" alt="Photo with Nakawaza and Yamaneko @Rubykaigi2013" />
(在RubyKaigi會場和Rails Girls的學員中澤(中)以及知名的mrubyist Yamane(右)合照)</p>

<h3>開始籌辦</h3>

<p>從日本回來之後一直忙於各種事件, 直到七月才有空開始, 除了本來就決定要一起主辦的高見龍之外, 剛好社群的朋友泰安對於這個活動都很有興趣, 因此我們就決定一起主辦這個活動。</p>

<p>泰安的夫人本身是一位業餘的畫家, 就請他畫了現在各位看到的這個Logo</p>

<p><img src="http://ryudo.tw/images/rg-taipei.jpg" alt="Rails Girls Taiwan Logo" /></p>

<h4>贊助商</h4>

<p>由於這個活動規定不能向學員收取門票, 所以最重要的是找尋贊助商; 想到之前上課的學生阿姿是國內非常知名且歷史悠久的和女性有關的網站<a href="http://verywed.com">非常婚禮verywed</a>的員工, 於是請她幫忙介紹引薦該公司的老闆與技術主管, 在簡短的會談闡明本活動的宗旨後, 該公司也欣然同意贊助本次活動, 順帶一提的是該公司是台灣極少數以女性員工為主的網路公司, 連程式都是以女性員工佔多數, 感謝非常婚禮的幫忙。</p>

<h4>場地</h4>

<p>一開始由於並不知道會有多少人報名, 決定以小而精的場地為主要的考量, 就選擇了在各大程式語言社群中頗負盛名的<a href="http://clbc.tw">CLBC慶隆商務俱樂部</a>為第一順位的場地選擇; 在談完贊助後立刻前往預約, 也很幸運的預約到了想要的時間; 並且獲得老闆Tyler的同意讓我們用公益團體的優惠價格計費, 在此必需要再次的感謝CLBC。</p>

<p><img src="http://farm3.staticflickr.com/2888/9695456801_7ee681348d_b_d.jpg" alt="Rails Girls Taipei-01 Venue" /></p>

<h4>報名</h4>

<p>事先大家最擔心的就是會沒有學員, 畢竟現狀就如前面所提, 程式社群的女性成員是非常稀少的, 不過事後證明這些擔心都是多餘的; 中午開放報名後, 不到2小時就超過了150人, 更在第二天下午時已經超過了320人, 只好提前關閉註冊, 接下來篩選學員的工作反而是最花時間的, 大概花了將近十天在review報名資料上, 由於場地限制的因素, 最後只能選出31位的學員。</p>

<p>學員的資歷方面真的是臥虎藏龍的等級, 有位學員甚至曾經在大陸的百度這種超巨型網路公司工作過, 也有學員特地從台中兩天都當日搭高鐵往返參加的, 最值得一提的是一位來自花蓮數位機會中心的老師, 為了知識傳承, 特地從東部海邊北上來參加活動。</p>

<h4>選取標準</h4>

<p>如同國外創立這個活動的原意, 加上參考日本方面的選取標準後, 我們希望選擇的是比較沒有其它程式經驗的人, 然後重要的是, 在自介中說明以下兩件事：</p>

<ol>
<li>為什麼妳想參加這個活動？</li>
<li>讓我們了解妳是一個怎樣的人？</li>
</ol>


<h4>事前準備</h4>

<p>雖然之前已經有一點教Ruby的經驗, 不過教完全新手的事, 從學生時代以後就沒體驗過, 這次我們決定由一位教練負責2位學員, 因此從社群徵求了15位朋友來擔任教練的工作, 在Ruby Tuesday#25的會後進行了第一次的討論; 決定了教學方向後, 教材的部份就由泰安負責主編, 其他教練協助編輯, 成果可以在<a href="https://github.com/railsgirls-taiwan">Github</a>上看到; 加上一位公費留學過歐洲, 英文非常流利的教練<a href="https://twitter.com/JuanitoFatas">@JuanitoFatas</a>幫忙翻譯了<a href="http://guides.railsgirls.tw">Rails Girls Guides</a>為主的很多文件, 讓我們雖然是首次主辦, 但各方面規模與完整性並不輸給國外。</p>

<h4>現場狀況</h4>

<p>雖然已經主辦過如<a href="http://ryudo.tw/blog/2013/04/23/rubyconftw-2012-memories-1">RubyConf Taiwan</a> 這樣的年度國際研討會, 第一次主辦完全以女性為主的活動, 不免還是會擔心出席率等等的問題; 不過活動一切順利, 教練和學員的互動也出乎意外的良好, 可能是因為女生之間一起學習的關係, 一般程式社群中新人女會眾的集體沉默現象在這邊完全不復見, 學員都全程參與, 也沒有遲到早退的問題, 真是可喜可賀。</p>

<p><img src="http://farm4.staticflickr.com/3702/9698686706_29d4fa9f51_b_d.jpg" alt="現場1" />
<img src="http://farm4.staticflickr.com/3671/9698677328_4ba4ab1959_b_d.jpg" alt="現場2" /></p>

<h4>After Party</h4>

<p>教學之外, 這個活動的目的之一是促進學員和教練之間的互動, After Party也列在官方的Guides內, 因此事先就宣布並徵詢學員的參與意願; 場地方面, 想要維持品質以及營造互動的氛圍, 決定要以Lounge Bar為主, 經友人推薦之下, 選擇了費用上不算便宜的<a href="https://www.facebook.com/Tribeca.TPE">TRIBECA</a>, 由於學員需要自費, 原本以為會變成教練與Staff們為主的聚會, 最後還是有超過一半的學員參加, 大家也聊到了十點才散會。</p>

<p><img src="http://farm4.staticflickr.com/3794/9850705143_0b013f3e26_b_d.jpg" alt="Rails Girls Taipei After Party 2" />
<img src="http://farm4.staticflickr.com/3793/9850684473_9c65e3c4d6_b_d.jpg" alt="Rails Girls Taipei After Party 3" />
<img src="http://farm6.staticflickr.com/5445/9851366586_f2b7fd1ed7_b_d.jpg" alt="Rails Girls Taipei After Party" /></p>

<h3>感想</h3>

<p>Ruby真的是一門神奇的語言啊, 原本只是基於想要改變社群性別分布不均這個現狀的心情, 從國外引進並舉辦了這個活動, 卻得到了遠遠出乎意料的反應與成果, 看來21世紀的程式學習趨勢真的不是說說而已, 今後也會繼續這個活動下去, 感謝活動過程中一路相挺的朋友們, 謝謝大家。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to migrate a PostgreSQL DB with many schemas in a multenancy Rails application]]></title>
    <link href="http://ryudo.tw/blog/2013/08/11/migrate-multi-schemas-into-a-rails-application/"/>
    <updated>2013-08-11T21:38:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/08/11/migrate-multi-schemas-into-a-rails-application</id>
    <content type="html"><![CDATA[<p>PostgreSQL的schema是一個非常方便的功能, 適合拿來做所謂的<a href="http://www.arthurtoday.com/2010/02/multi-tenant-application-multitenancy.html#.UgeXg2T08Rw">Multi-Tenancy</a>類服務; 例如無名或Pixnet這類的BSP(Blog Service Provider)或是像我的FREEBBS的免費論壇服務(Forum Service Provider), 通常稱為SAAS(Software As A Service)系統, 可以把N個相同結構的schema放在同一個資料庫裡面; 比起MySQL只能分別放在不同的資料庫裡會有很多好處。</p>

<p>假設今天我用PostgreSQL的schema功能來做一個BSP服務的話, DB內的schema會分成兩大類：</p>

<ul>
<li>管理用schema(只有一個)</li>
<li>Blog Schema(有無數個, 每個的結構相同)</li>
</ul>


<p>一般狀況下, 我們在使用ActiveRecord連接PosttgreSQL時可以在連接選項設定使用Schema, 像這樣：</p>

<figure class='code'><figcaption><span>database.yml  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">development</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">adapter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">postgresql</span>
</span><span class='line'>  <span class="l-Scalar-Plain">encoding</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">unicode</span>
</span><span class='line'>  <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SHOPON_development</span>
</span><span class='line'>  <span class="l-Scalar-Plain">pool</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">5</span>
</span><span class='line'>  <span class="l-Scalar-Plain">schema_search_path</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base, blog1</span>
</span></code></pre></td></tr></table></div></figure>


<p>schema_search_path的預設值是public, 如果照以上設定, 當你執行任何migration時會先從base這個schema執行起, 也就是所有的migration都只會跑在base這個schema上面,</p>

<p>但場景回到Rails/ActiveRecord上, 假如你要做一個BSP, 一般而言你有以下幾種方式：</p>

<ol>
<li>管理端(管理BSP的)和服務端(Blog服務本身)分別各自一個Rails Application目錄, 然後各有各的migrate</li>
<li>將兩端放在同一個Rails App裡</li>
</ol>


<p>如果用一般的方式migrate, Rails會依照你database.yml裡設定的schema_search_path的順序找第一順位來執行migrate; 這樣你要如何migrate你的資料到不同schema呢？</p>

<p>今天要講的就是將兩端放在同app裡的方式, 也就是</p>

<ol>
<li>在migrate檔內設定只能在服務端schema或是管理端schema執行</li>
<li>有<strong>單獨migrate管理端</strong>和<strong>單獨migrate服務端</strong>的功能</li>
</ol>


<p><strong><em>實現1.的方式如下</em></strong>：</p>

<figure class='code'><figcaption><span>migrate_control_side.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="k">class</span> <span class="nc">CreateSites</span> <span class="o">&lt;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Migration</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">change</span>
</span><span class='line'>    <span class="k">if</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">schema_search_path</span> <span class="o">==</span> <span class="s1">&#39;base&#39;</span> <span class="c1">#base為管理端schema</span>
</span><span class='line'>      <span class="n">create_table</span> <span class="ss">:sites</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>        <span class="n">t</span><span class="o">.</span><span class="n">string</span> <span class="ss">:subdn</span>
</span><span class='line'>        <span class="n">t</span><span class="o">.</span><span class="n">string</span> <span class="ss">:name</span>
</span><span class='line'>        <span class="n">t</span><span class="o">.</span><span class="n">timestamps</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>簡單來說就是當現在的 schema_search_path 不等於base則不執行create_table的動作; 如果是服務端, 則反過來設定schema_search_path不為base或public即可, 更進一步的可以將這兩種檢查寫成ActiveRecord::Migration的module, 像這樣：</p>

<figure class='code'><figcaption><span>multitenancy_migration.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="k">module</span> <span class="nn">ActiveRecord::MultitenancyMigration</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">must_migrate_in_base</span> <span class="c1">#管理端</span>
</span><span class='line'>    <span class="k">if</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">schema_search_path</span> <span class="o">==</span> <span class="s1">&#39;base&#39;</span>
</span><span class='line'>      <span class="k">yield</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">must_migrate_in_site</span> <span class="c1">#服務端</span>
</span><span class='line'>    <span class="n">schema_search_path</span> <span class="o">=</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">schema_search_path</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">!</span><span class="n">schema_search_path</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;base&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">schema_search_path</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;public&#39;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">yield</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Migration</span><span class="o">.</span><span class="n">class_eval</span> <span class="k">do</span>
</span><span class='line'>  <span class="kp">include</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:MultitenancyMigration</span>
</span><span class='line'>  <span class="kp">extend</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:MultitenancyMigration</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>由於migration檔的內部可能是以self.up(class method)或是up(instance method)的方式編寫, 因此需要同時include和extend這個模組。</p>

<p><strong><em>實現2.的方式如下</em></strong>：</p>

<p>需要建立for 管理端以及 for 服務端的task 來migrate 各自的schema</p>

<figure class='code'><figcaption><span>base.rake</span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">namespace</span> <span class="ss">:base</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">task</span> <span class="n">migrate_db</span><span class="p">:</span> <span class="ss">:environment</span> <span class="k">do</span>
</span><span class='line'>    <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">schema_search_path</span> <span class="o">=</span> <span class="s1">&#39;base&#39;</span>
</span><span class='line'>    <span class="ss">Rake</span><span class="p">:</span><span class="ss">:Task</span><span class="o">[</span><span class="s1">&#39;db:migrate&#39;</span><span class="o">].</span><span class="n">invoke</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">task</span> <span class="n">rollback_db</span><span class="p">:</span> <span class="ss">:environment</span> <span class="k">do</span>
</span><span class='line'>    <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">schema_search_path</span> <span class="o">=</span> <span class="s1">&#39;base&#39;</span>
</span><span class='line'>    <span class="ss">Rake</span><span class="p">:</span><span class="ss">:Task</span><span class="o">[</span><span class="s1">&#39;db:rollback&#39;</span><span class="o">].</span><span class="n">invoke</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>site.rake </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">namespace</span> <span class="ss">:site</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">check_subdn_exists</span>
</span><span class='line'>    <span class="k">if</span> <span class="no">ENV</span><span class="o">.</span><span class="n">has_key?</span><span class="p">(</span><span class="s1">&#39;SUBDN&#39;</span><span class="p">)</span>
</span><span class='line'>      <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">schema_search_path</span> <span class="o">=</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;SUBDN&#39;</span><span class="o">]</span>
</span><span class='line'>      <span class="k">yield</span>
</span><span class='line'>    <span class="k">else</span>
</span><span class='line'>      <span class="nb">puts</span> <span class="s2">&quot;Please assign SUBDN first!&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="n">desc</span> <span class="s1">&#39;Migrate Database of Individual site, have to assign SUBDN paramater!&#39;</span>
</span><span class='line'>  <span class="n">task</span> <span class="n">migrate_db</span><span class="p">:</span> <span class="ss">:environment</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">check_subdn_exists</span> <span class="k">do</span>
</span><span class='line'>      <span class="ss">Rake</span><span class="p">:</span><span class="ss">:Task</span><span class="o">[</span><span class="s1">&#39;db:migrate&#39;</span><span class="o">].</span><span class="n">invoke</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">desc</span> <span class="s1">&#39;Rollback migration of single site&#39;</span>
</span><span class='line'>  <span class="n">task</span> <span class="n">rollback_db</span><span class="p">:</span> <span class="ss">:environment</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">check_subdn_exists</span> <span class="k">do</span>
</span><span class='line'>      <span class="ss">Rake</span><span class="p">:</span><span class="ss">:Task</span><span class="o">[</span><span class="s1">&#39;db:rollback&#39;</span><span class="o">].</span><span class="n">invoke</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>簡單來說就是在migrate前先切換schema, 然後用Rake的指令呼叫原本的db:migrate/rollback出來, 當然你也可以寫一個task是去掃現存的服務端列表然後再各自migrate, 如果要寫在controller或model的話, 則必需先require rake然後再load Rakefile才行。</p>

<p>以上</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Introduce Ruby Taiwan Community@RubyKaigi 2013[EN,CH]]]></title>
    <link href="http://ryudo.tw/blog/2013/06/07/rubykaigi2013-lt/"/>
    <updated>2013-06-07T20:57:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/06/07/rubykaigi2013-lt</id>
    <content type="html"><![CDATA[<p>非常榮幸本次有機會可以和台灣Ruby社群的朋友一起參加世界級的Ruby研討會<a href="http://rubykaigi.org/2013">RubyKaigi2013</a>, 做為台灣Ruby社群的主持人之一, 既然參加了就想要讓世界的Ruby朋友們知道Ruby Taiwan社群的存在, 因此在LT徵稿前就打算要投稿這個主題了.</p>

<hr />

<p>It&#8217;s my pleasure to join the world-class Ruby seminar <a href="http://rubykaigi.org/2013">RubyKaigi2013</a>, as one of the organizers of Ruby Taiwan community, I wish to let the world know the exist of our community, so I plan to submit this LT.</p>

<p>由於是第一次在海外以英文發表, 又是只有五分鐘的LT, 如果用一般的形式會很難控制時間, 因此就想到了高橋流的方式, 在準備的過程中不斷反覆觀看高橋征義在台灣的LT影片以及簡報來練習; 對於鋪梗也是費盡心思, 感謝<a href="https://twitter.com/ihower">@ihower</a>在去年RubyConf Taiwan 2012的<a href="http://www.slideshare.net/ihower/rubyconf-taiwan-2012-opening-closing">十六字箴言</a>, 以及在<a href="http://magazine.rubyist.net/?0041-RubyTaiwan2012">Rubyist Magazine</a>將其日語漢字化的柴田先生<a href="https://twitter.com/hsbt">@hsbt</a>; 另外由於會眾日本人佔多數, 在講稿上採取英日文並行的方式, 這點要特別再特別的感謝旅居日本的台灣人Rubyist侯大偉<a href="https://twitter.com/davidhou_tw">@davidhou_tw</a>的全力支持, 大偉不但幫我翻譯, 甚至還請了日本朋友幫忙review, 我跟他致謝時他說：「還是慎重點好 畢竟你代表台灣宣傳阿」這句話時, 真的整個超感動又熱血的.</p>

<hr />

<p>Since this is my first time to speak outside of Taiwan and it&#8217;s a 5 mins LT session, I decided to use the Takahashi-method on my talk. I watch Takahashi-san&#8217;s slide and screencasts again and again to meditate and practice my speech. Special thanks to @ihower&#8217;s <a href="http://www.slideshare.net/ihower/rubyconf-taiwan-2012-opening-closing">opening slide at RubyConf Taiwan 2012</a> and <a href="(https://twitter.com/hsbt">@hsbt</a>&#8217;s <a href="http://magazine.rubyist.net/?0041-RubyTaiwan2012">Japanese translation on Rubyist Magazine</a> gave me some content on the slide. I write both Japanese and English on my slide because the biggtest part of audience are Japanese. I have to appreciate <a href="https://twitter.com/davidhou_tw">David Hou</a> who is a Taiwanese Rubyist working and living in Japan for translating my slide to Japanese. He even asked help from a Japanese friend. He said to me: &#8220;We should be more careful, you represent the Ruby Taiwan community after all&#8221; when I expressed my thank to him. He really moved me!</p>

<p>另外一個最後引起日本朋友們關注的就是桐島梗了, 其實會有這個梗是因為自從去年Rubyconf Taiwan 2012後就有在關注日本Ruby大神們的推特, 適逢今年3月時日本舉辦的<a href="http://magazine.rubyist.net/?0042-OoedoRubyKaigi03Report">大江戶RubyKaigi03</a>其中一場由CRuby GC的作者中村成洋<a href="https://twitter.com/nari3">@nari3</a>的演講<a href="http://www.slideshare.net/authorNari/ruby-17269278">桐島、Rubyやめるってよ</a>持續引起大神們的討論, 看了簡報之後雖然不是很懂但是對其中引用的電影<a href="http://www.ghfff.org.tw/program/content.aspx?id=521">聽說桐島退社了</a>感到興趣, 看過之後再回頭看中村的簡報就能夠理解那些梗了, 個人以為那句「<a href="http://imgur.com/Z8m9zkn">戰鬥吧！這裡是我們的世界</a>」是整個電影, 同時也是我自己參與社群經營活動的精神之體現, 作為結尾是非常適合的.</p>

<hr />

<p>I found the most eye-catching point of my presentation for Japanese is the 「Kirishima」&#8217;s ネタ. In fact I started to follow many Japanese Rubyist&#8217;s twitter after the RubyConf Taiwan 2012 last year. I noticed <a href="https://twitter.com/nari3">Narihiro Nakamura</a>&#8217;s presentation named 「<a href="http://www.slideshare.net/authorNari/ruby-17269278">Kirishima, stop using Ruby</a>」 which is retwteed many times after the 「Oedo RubyKaigi 03」 on March this year. I am extremely interested by the slide&#8217;s subject which is a movie named 「The Kirishima Thing」, so I can  understanded what Nakamura expressed in his slide after watched the movie and deeply impressed by it. I decided to use the most important line of the movie &#8220;Fighting, this is our world!&#8221; as the last page of my slide because I think it is the spirit of both the movie and the reason of why I join the operation of our community.</p>

<p>上台前一直很擔心這些梗會沒有用, 前一天晚上由於和龍哥隔天都要上台的關係緊張到幾乎沒睡; 不過現場的反應真是超乎想像意外的好, 結束後也陸續接到幾位日本朋友們的鼓勵, 真的非常窩心, 感謝你們!</p>

<hr />

<p>I almost can&#8217;t sleep on the eve of LT and worried about if my slide can&#8217;t attract the audience. Fortunately I finished the speech and it seemed the audience&#8217;s reaction was good. I must show my gratitude for beging metioned by many Japanese Ruby friends on Twitter as below:</p>

<blockquote class="twitter-tweet" data-conversation="none" lang="zh-tw"><p>@<a href="https://twitter.com/ryudoawaru">ryudoawaru</a> ありがとうございました！lightning talk最高でした！</p>&mdash; Akira Matsuda (@a_matsuda) <a href="https://twitter.com/a_matsuda/status/340776485826740225">2013年6月1日</a></blockquote>


<blockquote class="twitter-tweet" lang="zh-tw"><p>練度たかい <a href="https://twitter.com/search/%23rubykaigi">#rubykaigi</a> <a href="https://twitter.com/search/%23rubykaigia">#rubykaigia</a></p>&mdash; Kakutani Shintaro (@kakutani) <a href="https://twitter.com/kakutani/status/340393348638601216">2013年5月31日</a></blockquote>


<blockquote class="twitter-tweet" lang="zh-tw"><p>I would like to go to RubyConf Taiwan 2014〜</p>&mdash; SHIBATA Hiroshi (@hsbt) <a href="https://twitter.com/hsbt/status/341113796158439424">2013年6月2日</a></blockquote>


<blockquote class="twitter-tweet" lang="zh-tw"><p>Awesome taiwan ruby community! @<a href="https://twitter.com/ryudoawaru">ryudoawaru</a></p>&mdash; Tatsuya Sato (@sato_ryu) <a href="https://twitter.com/sato_ryu/status/340393351146778624">2013年5月31日</a></blockquote>


<blockquote class="twitter-tweet" data-conversation="none" lang="zh-tw"><p>@<a href="https://twitter.com/ryudoawaru">ryudoawaru</a> わたしも小学生の時からのファンです！ 素敵なLTでした、TwのRubyカンファレンスに行ってみたくなりました :)</p>&mdash; やきとりい (@yotii23) <a href="https://twitter.com/yotii23/status/340406791693279233">2013年5月31日</a></blockquote>


<blockquote class="twitter-tweet" lang="zh-tw"><p>@<a href="https://twitter.com/ryudoawaru">ryudoawaru</a> 良いLTでした(бвб)！</p>&mdash; すずきみほ SUZUKI Miho (@adzuki34) <a href="https://twitter.com/adzuki34/status/340393460668432384">2013年5月31日</a></blockquote>


<blockquote class="twitter-tweet" lang="zh-tw"><p>@<a href="https://twitter.com/ryudoawaru">ryudoawaru</a> LT素晴らしかったです！ありがとうございました！</p>&mdash; Yuki Nishijima (@yuki24) <a href="https://twitter.com/yuki24/status/340784167895838720">2013年6月1日</a></blockquote>


<blockquote class="twitter-tweet" lang="zh-tw"><p>.@<a href="https://twitter.com/ryudoawaru">ryudoawaru</a> さんが <a href="https://twitter.com/search/%23rubykaigi">#rubykaigi</a> 2日目のLTでスライドに桐島を使っていたのは、@<a href="https://twitter.com/nari3">nari3</a> の大江戸03のスライドを見て興味を持ち、映画を探して観て大好きになったからだとか(台湾語字幕あるそうです)。台湾rubyistに桐島届いてた！</p>&mdash; O-Show (@oshow) <a href="https://twitter.com/oshow/status/341110877375840256">2013年6月2日</a></blockquote>


<script async src="http://ryudo.tw//platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>神奇的是, 在LT投影片上傳slideshare後的隔天竟然登上了slideshare的「Hot on Facebook」首頁排行榜, 真的是又驚又喜</p>

<hr />

<p>It was a miracle that on the third day of RubyKaigi2013, my slide was in the 「Hot in Facebook」 area of Slideshare&#8217;s homepage.</p>

<center><img src="http://i.imgur.com/rN7xNwl.png" style="max-width:720px;" /></center>


<p>感謝<a href="https://twitter.com/takai">高井先生</a>的照片, 拍的非常好.</p>

<hr />

<p>Thanks to the high quality photo taken by <a href="https://twitter.com/takai">Naoto Takai</a>.</p>

<center><img src="http://farm6.staticflickr.com/5469/8905326085_5f217d6665_c.jpg"/></center>


<p>這趟日本行真的是收獲多多, 接下來還會有幾篇文章介紹; 整個從準備到上台的過程中, 心裡一直想就大偉的話, 要讓世界知道Ruby Taiwan社群的存在, 今後一樣會持續努力</p>

<hr />

<p>I learn so much on Japan this time, and I will write many blog posts to represent my journey. On the process of preparing the presentation, I always remember what David said and try my best to let the attendee know what we(Ruby Taiwan community) do and I will continue my work in the future.</p>

<h3>Thanks to all awesome staffs of Rubykaigi and community friends in Japan, また台湾で会お！</h3>

<p>附上簡報檔以及當天Live如下：</p>

<center>
<iframe src="http://www.slideshare.net/slideshow/embed_code/22236968?rel=0" width="597" height="486" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen webkitallowfullscreen mozallowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="http://www.slideshare.net/ryudoawaru/introduce-ruby-taiwanrubykaigi2013" title="Introduce Ruby Taiwan@Rubykaigi2013" target="_blank">Introduce Ruby Taiwan@Rubykaigi2013</a> </strong> from <strong><a href="http://www.slideshare.net/ryudoawaru" target="_blank">Mu-Fan Teng</a></strong> </div>
<iframe width="480" height="302" src="http://www.ustream.tv/embed/recorded/33573701/highlight/367455?v=3&amp;wmode=direct" scrolling="no" frameborder="0" style="border: 0px none transparent;">    </iframe>
<br /><a href="http://www.ustream.tv/" style="padding: 2px 0px 4px; width: 400px; background: #ffffff; display: block; color: #000000; font-weight: normal; font-size: 10px; text-decoration: underline; text-align: center;" target="_blank">Video streaming by Ustream</a>
</center>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[達人出版会徵求翻譯以及校稿志工事宜]]></title>
    <link href="http://ryudo.tw/blog/2013/05/02/tatsu-zine-translator-recruitment/"/>
    <updated>2013-05-02T12:00:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/05/02/tatsu-zine-translator-recruitment</id>
    <content type="html"><![CDATA[<p>大家好：</p>

<p><a href="http://tatsu-zine.com">達人出版会</a>是由日本知名Rubyist, 也是高橋流簡報術的作者「<a href="http://d.hatena.ne.jp/takahashim/">高橋征義</a>」成立, 目的是透過實踐「<a href="https://leanpub.com/manifesto">敏捷出版</a>」的方式出版技術系的日文純電子書籍, 這邊有一份非常詳盡的<a href="http://www.newcreator.com/?p=995">介紹文章</a></p>

<p>最早知道這個網站是在<a href="http://rubyconf.tw/2012/">RubyConf Taiwan 2012</a>時<a href="http://www.youtube.com/watch?v=cPh1q0D10Wg">高橋的LT</a>時提及的</p>

<p>由於個人對於其中一些在台灣可以稱為是非主流或不可能出版的書籍有興趣, 因此日前OSDC.tw 2013時, 在席間和高橋提到是否有機會將其中一些書籍翻譯成中文版, 甚至是在該平台出版中文原生電子書的事情, 沒想到高橋的回應意外的積極, 於是就不自量力的在高橋先生的首肯之下接下了這個任務, 目前正在募集譯者以及校稿志工</p>

<h4>譯者</h4>

<ul>
<li>懂日文, 基本上能看得懂日文技術書輯的程度即可</li>
<li>懂一定程度的技術, 在達人出版會的架構中, 會有叫作「Reviewer」的校稿志工擔任實體出版社中編輯的任務, 因此譯者即使不是技術方面的強者也沒有關係</li>
<li>最重要的就是興趣, 有愛最重要</li>
<li>既然書有賣錢, 因此譯者是有酬勞的, 目前規劃是用計件的方式, 不過如果想用版稅的方式也是可以討論的</li>
</ul>


<h4>校稿志工</h4>

<ul>
<li>對書本相關的技術有一定程度的認識</li>
<li>在翻譯的過程中協助譯者</li>
<li>校稿工作</li>
</ul>


<p>對譯者和校稿志工們而言, 線上出版和實體出版最大的不同就是書籍本身可以一直改版, 所以不會有實體書那樣的壓力; 雙方協同進行翻譯工作可以同時提升日文以及技術能力, 名字會列在書上也算是一個成就.</p>

<p>下面是目前我覺得比較有特色可以翻譯的書籍：</p>

<ul>
<li><a href="http://tatsu-zine.com/books/scheme-in-ruby">つくって学ぶプログラミング言語　RubyによるScheme処理系の実装</a></li>
<li><a href="http://tatsu-zine.com/books/chef-solo">入門Chef Solo - Infrastructure as Code</a></li>
<li><a href="http://tatsu-zine.com/books/llvm">きつねさんでもわかるLLVM</a></li>
<li><a href="http://tatsu-zine.com/books/fuelphpadvent2012">FuelPHP Advent Calendar 2012</a></li>
<li><a href="http://tatsu-zine.com/books/winrubybuild">Ruby環境構築講座 Windows編</a></li>
<li><a href="http://tatsu-zine.com/books/g1gc">徹底解剖「G1GC」 アルゴリズム編</a></li>
<li><a href="http://tatsu-zine.com/books/objc">エキスパートObjective-Cプログラミング ― iOS/OS Xのメモリ管理とマルチスレッド</a></li>
</ul>


<p>有意者請mail: ryudoawaru at gmail.com 給我, 或在下面留言</p>

<p>目前(5/3)為止的募集情況：
校稿志工x3(包括我), 從開始募集譯者一天竟然已經超過10位, 由於報名情形遠超乎想像, 因此之後將請報名者<a href="http://registrano.com/events/tatsuzine">至此填寫基本資料</a>後再試翻作為參考, 謝謝大家！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RubyConf Taiwan 2012回憶錄(上)]]></title>
    <link href="http://ryudo.tw/blog/2013/04/23/rubyconftw-2012-memories-1/"/>
    <updated>2013-04-23T23:08:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/04/23/rubyconftw-2012-memories-1</id>
    <content type="html"><![CDATA[<p>其實活動都結束半年了, 不過還是寫一下紀錄好了, 本篇為準備期間的紀錄</p>

<h3>緣起</h3>

<p>其實在去年OSDC.tw 2012時就開始催促@ihower了, 不過大大當時表示<del>等D3打完再說</del>, 然後七月初Matz回覆了可出席的時間就決定開辦了</p>

<h3>為何要辦在中研院之外?</h3>

<p>原因很簡單, 因為本屆大會是「MDD」(Matz Driven Development), Matz只有12/7-8有空, 剛好當日中研院場地已滿, 就此成為北部近年來第一個離開中研院的程式語言年會, 以及台灣第一個飯店conf了</p>

<h3>找場地的過程</h3>

<p>我們都沒有在外面找這種等級場地的經驗, 因此就先在網路上瞎找一通, 列舉一些有去現場勘察過的場地如下</p>

<ol>
<li><p>沃田旅店, 天母國際會議中心(即最後的會場)</p>

<p>會在下面說明</p></li>
<li><p>某天大學的國際會議聽</p>

<p>綜合條件其實是所有會場最優, 最接近中研院的, 問題是當承辦人員聽到要收門票後就宣稱他們只接受不收費活動, 只好作罷</p></li>
<li><p>台師大</p>

<p>最便宜, 場地狀況普通, 但是交通位置極優而且有附會館可住宿, 附近也不缺吃喝的地方; 本來都已經要簽約了, 對方突然發現每週五固定被某綠色房仲包下來當員工訓練用就GG了</p></li>
</ol>


<h3>為何選了這個場地</h3>

<p>這是一個老字號的會議場地, 前身是農會訓練中心因此有住宿的服務, 我們考慮的點如下：</p>

<ul>
<li>以非學校場地而言, 價格相對合理</li>
<li>場地的高低差讓我驚豔, 有去過的人應該都可以感受到</li>
<li>飯店, 外國會眾可直接住在場地樓上, 方便度滿點, 住宿費因為會議的關係還有額外折扣, 還有我們都覺得<del>飯店conf很酷</del>, 飯店也可以提供完整的餐飲服務, 不用自己去找廠商</li>
<li>承上, 剛好當時正在由農訓中心改建為對外經營的旅館之過程中, 想說conf時剛好是旅館設備全新的狀態, 算是一個bonus</li>
<li>個人長期在北投唸書, 算是在地人, 而且週邊有很多我熟悉的店, 不缺餐廳招待外國朋友</li>
<li>地點不是在鬧區因此一開始會有些疑慮, 其實場地和捷運站的距離完全不比中研院遠</li>
</ul>


<p><img src="http://farm9.staticflickr.com/8060/8256048967_0eb6651b78_c.jpg"/></p>

<p>最後就8月左右就決定是這裡了</p>

<h3>講者</h3>

<p>離開中研院的關係, 預算變得十分吃緊, 邀請講者的部份就無法像前兩屆一樣邀請歐美講者, 但是在Matz大神的光環以及ihower前兩屆建立起來的口碑, 外國講者以及與會者都十分踴躍, 最後竟然有超過10國的與會者; 陣容方面由於Matz/ko_1/a_matsuda等等的真神們領銜之下, 和歪國的Ruby系Conf比起來一點也不遜色</p>

<h3>Party</h3>

<p>既然已經離開了中研院, 因此以往不方便舉辦的趴踢也不再是問題了; 剛好想到場地附近就有一間「<a href="http://www.funtv.tw/shop/shop_present/1572">天母黎舍BAR</a>」, 去看了一下場地情況以及當場試喝了幾杯調酒後發現非常超值, 經過討論後就決定是它了.</p>

<p><img src="http://farm9.staticflickr.com/8199/8257389726_59b5d793e5_c.jpg"/></p>

<h3>贊助</h3>

<p>靠著ihower的聲望以及前兩屆的口碑, 除了一直以來情義相挺的伙伴們之外, 也加入了一些外國贊助商; 另外也感謝台灣新浪作為媒體合作夥伴, 支援了一位專業的錄影師與設備.</p>

<h3>攝影</h3>

<p>以往國內的開源或程式語言年會多半都是採用攝影志工, 這次要嘗試不一樣的選擇; 由於以前某次<a href="http://www.2010hau.tw/bigmap.php"><del>賣身event</del></a>的關係認識了超級攝影師, 同時也是前總統府攝影官的「<a href="http://www.wretch.cc/blog/friendray">徐聖淵</a>」, 當然不是志工就意味著一筆額外的支出; 同時在幾位人選之中他也是最貴的一位(<a href="http://www.wretch.cc/blog/friendray/9129183">詳見此</a>, <del>下次有單身正妹願意當攝影助理志工的話請務必跟我聯絡</del>), 但基於共事期間的經驗, 在經過討論之後就拍板定案了.</p>

<h3>錄影</h3>

<p>一樣因為不在中研院, 會場本身也無提供相關服務與設備, 為了能把錄影的等級提升到接近confreaks的水準可說是費盡苦心, 因為我想要做出speaker和presentation是分割畫面的<a href="http://i.imgur.com/50y7doF.png">情形</a>, 於是就想到用兩台DV分別拍攝再事後剪接合成的方式; 剛好平常<a href="http://www.tomlan.tw">自己家</a>網站合作的美術<a href="https://twitter.com/dukecroc">dukecroc</a>具有數年專業MV後製剪接的經驗, 於是就決定請他幫忙; 順帶一提的是中研院可是用了價值5x萬的設備在做即時多軌合成的; 另外在準備期間為了橋收音和攝影機擺放位置的問題來回去了很多次場地.</p>

<h3>餐點</h3>

<p>場所的飯店本身是農會經營的(前身為士林區農會訓練中心), 場地一般是提供合菜但是在我們的要求之下改成buffet, 菜色調整了幾次之後, 一個人一天的餐費達到的驚人的230; 點心的部份, 場地有固定的合作廠商, 該廠商也是天母地區的老字號, 品質是值得信賴的不過價格也很硬, 因此量的部份就不能太要求了.</p>

<h3>翻譯主持人</h3>

<p>本次的邀請講者都是日本來的大神, 找尋一位有日文流利而且適合當司儀的女性主持人就成了當務之急, 好運的是透過了以往賣身event的戰友介紹了超專業的<a href="https://twitter.com/sho0416">Sho</a>, 不但是國內某大設計系conf的日語口譯, 又是專業的網站與Mobile APP的PM, 可以說是非常適合的人選.</p>

<h3>網站</h3>

<p>在OSDC時就已經決定請<a href="http://4point-inc.com">四點設計</a>贊助網站了, 關於設計概念的部份ihower完全交給老闆<a href="http://mind.deep.tw">P董</a>與老闆娘<a href="http://layout.deep.tw">Polly</a>決定, 在經過幾次跳tone後出現了現在這一版; 一看到就驚為天人, 看來在技術系conf使用墨水風格的應該也只有我們了吧！</p>

<h3>準備的時間花費</h3>

<p>五個月期間, 花在準備上的時間分佈大致如下：</p>

<ul>
<li>最多的是找sponsor以及與sponsor的溝通, 應該說大半時間都花在這裡</li>
<li>和場地人員的溝通, 包括餐點等等</li>
<li>次之是場地的準備, 因為不在中研院的關係這部份的工作變得比以前繁重許多, 由於前面所説的改建的關係, 像是電源以及擴音/錄音設備之類的都是在10月以後才完整ready; 前面也提到了為此多花了不少時間</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby Tuesday#22]]></title>
    <link href="http://ryudo.tw/blog/2013/04/17/rubytuesday-22/"/>
    <updated>2013-04-17T16:12:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/04/17/rubytuesday-22</id>
    <content type="html"><![CDATA[<p>由於之前已經比較久沒辦的關係, 相信大家都悶了, 剛好這次找到了相當不錯的場地<a href="https://www.facebook.com/hdxcafe">HDX Cafe</a>, 加上兩位新人講者<a href="http://blog.taian.su/">泰安</a>和<a href="http://tonytonyjan.net/">大兜</a>, 所以就決定要開辦Tuesday啦; 這個場地好的點在於：</p>

<ul>
<li>地點好, 在程式人的聖地天瓏書局的隔壁, 也就是以前儒林書局的位置; 會前會後都可以下去<del>敗家</del></li>
<li>場地大, 2F的場地兩邊加起來可以擠上100人都沒問題</li>
<li>投影設備, 投影幕是移動式的所以到處都可以用</li>
<li>餐點便宜, 包場的低消是120元, 飲料餐點的水準也比以前去過的不少場地要優, 除了正餐還有麵包/蛋糕, 整體來說很超值.</li>
<li>可以待到10點, 其實他們是9:30收, 但包場可以到10點沒問題</li>
</ul>


<p><img src="http://i.imgur.com/CLY6rOWl.jpg"/></p>

<p>講者的部份, 兩位新人的演出也非常精彩(和我第一次比真的是強很多), 會場氣氛也非常熱絡; 大家也都呆到快收攤才離開; 報到率近乎100%, 整個都很讓人感動, 希望能繼續辦下去, 謝謝大家！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby,Sinatra and Websocket]]></title>
    <link href="http://ryudo.tw/blog/2013/04/05/ruby-and-websocket/"/>
    <updated>2013-04-05T21:48:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/04/05/ruby-and-websocket</id>
    <content type="html"><![CDATA[<h3>近半年來花了很多時間在研究Ruby上實作Websocket的方式, 現介紹簡單心得如下</h3>

<p>Base Solution:</p>

<ul>
<li><a href="https://github.com/igrigorik/em-websocket">EventMachine-Websocket</a></li>
<li><a href="http://cramp.in/">Cramp</a></li>
</ul>


<p>Ruby系的幾乎不出這兩種, 其中又以前者為大宗, 後者顯然在Ruby界不流行而且基本上沒在更新了, 然後想當然我也只會用EM</p>

<h2>使用過的EM類Solution：</h2>

<h3><a href="https://github.com/simulacre/sinatra-websocket">Sinatra-Websocket</a></h3>

<p>最初的嘗試, 好處是整合性極高, 可以直接登記在Sinatra的route上以及共享一切Sinatra的設定, Application Server原則上只能用thin, 不過有致命性的memory leak問題, 簡單來說就是Thin會以為已經斷線的WS連線未斷線因此長久下去會在Thin的process上留著無數的連線進而吃掉大量記憶體, 而且作者沒有配合EM-Websocket改版, 因此被判定為不可用</p>

<h3>直接用EM-Websocket當server</h3>

<p>現在的解法, 優點是完全自訂, 同時也是缺點; 等於從0開始設定一個socket server, DB/model…等等的設定都要自己寫; 另外我還比較搞缸的寫了init script變成系統服務, 前端使用haproxy</p>

<h3>負載能力</h3>

<p>非常強, 只要處理掉系統的nofile<a href="https://github.com/shokai/sinatra-websocketio/wiki/C10K">設定</a>的話, 單一行程可以吃到破萬連線不是問題, 不過以現在的EM架構要開多行程處理數萬連線的話, 如果沒有再上一層的pub/sub機制就得要用fork出多行程的方式, 這時就得考慮類似mutex lock的問題了</p>

<h3>IE相容問題</h3>

<p><a href="https://github.com/gimite/web-socket-js">web-socket-js</a>可以解決你的問題, 不過如果你要用haproxy開前端的話就必需要自己設定flash socket policy file, 使用<a href="http://rubygems.org/gems/flash_policy_server">flash_policy_server </a>可手動開這個服務</p>

<p>實際的代碼與架構會在以後說明</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Sinatra課程紀錄]]></title>
    <link href="http://ryudo.tw/blog/2013/04/05/sinatra-course-20130329/"/>
    <updated>2013-04-05T20:41:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/04/05/sinatra-course-20130329</id>
    <content type="html"><![CDATA[<p>這次和<a href="http://blog.eddie.com.tw">龍哥</a>一起合辦<a href="http://blog.eddie.com.tw/2013/02/08/new-rubyist-wanted/">有心人的課程</a> 其中的第二天是小弟主講Sinatra &amp; Rack, 以下是講義分享</p>

<script async class="speakerdeck-embed" data-id="e833e210801b01309fec12313933796a" data-ratio="1.2994923857868" src="http://ryudo.tw//speakerdeck.com/assets/embed.js"></script>


<p>已將課程所用之原始碼放到<a href="https://github.com/ryudoawaru/sinatra-course-20130329">Github</a></p>

<p>心得：</p>

<ul>
<li><p>這次準備過程還是很抖, 一開始因為發現了神奇的課程<a href="http://tekpub.com/productions/rack">Understanding Rack</a>因此想把這篇的大意放到教材中, 不過果然還是太難把這麼硬的東西表達出來啊&#8230;.</p></li>
<li><p>刺激的是除了前一天做講義到五點之外, 十點一起來還接到了公司的message得在緊急狀態之下10分鐘修了production code, 一下課又得繼續修 &amp; Deploy…</p></li>
<li><p>4/5發現竟然有四位學員<a href="https://github.com/ryudoawaru/sinatra-course-20130329/network">fork</a>了, 真是令人感動, 其中還有人抓到我的<a href="https://github.com/ryudoawaru/sinatra-course-20130329/issues/1">bug</a>..xd</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[first_po]]></title>
    <link href="http://ryudo.tw/blog/2013/03/09/first-po/"/>
    <updated>2013-03-09T21:44:00+08:00</updated>
    <id>http://ryudo.tw/blog/2013/03/09/first-po</id>
    <content type="html"><![CDATA[<p>把部落格蓋著先~~</p>
]]></content>
  </entry>
  
</feed>
